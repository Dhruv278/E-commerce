<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://otpless.com/auth.js"></script>
    <title>Document</title>
</head>

<body>
    <style>
        #otpless-floating-button {
            display: none !important;
        }
    </style>
    <button id="signin" class="whatsapp-signin">Sign in with WhatsApp</button>


    <script type="text/javascript">
        const makeFloaterVisible = () => {
            const otplessDiv = document.getElementById("otpless-floating-button");
            otplessDiv.style.display = "flex";
            otplessDiv.style.setProperty("display", "flex", "important");

        }
        document.getElementById('signin').addEventListener('click', () => {
            makeFloaterVisible()

        })
        
        const searchParams = new URLSearchParams(window.location.search);
        if (searchParams.get("qr_ref_id")) {
            console.log(searchParams.get("qr_ref_id"))
            addCustomCSS();


        };
        function addCustomCSS() {  
            const style = document.createElement("style");
            console.log("don")
            style.innerHTML = `
                  div#otpless-floating-button {
                    display: block !important;
                  }
            
              `;
           
            document.head.appendChild(style);
          }

        function otpless(otplessUser) {
            alert(JSON.stringify(otplessUser));
        }
    </script>
</body>

</html>